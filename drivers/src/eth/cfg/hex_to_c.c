/******************************************************************************
* INCLUDES
*****************************************************************************/

#include "NXP_SJA1105P_config.h"
#include "NXP_SJA1105P_spi.h"

/******************************************************************************
* DEFINES
*****************************************************************************/

#define CONFIG_BASE_ADDR (0x20000U)  /**< Base address of the configuration area */
#define N_CONFIGS 1U  /**< Number of configurations that can be loaded */
#define N_BURSTS_CONFIG0 5U  /**< Number of bursts in configuration 0 */

/******************************************************************************
* FUNCTIONS
*****************************************************************************/

extern uint8_t SJA1105P_loadConfig(uint8_t configIndex, uint8_t switchId)
{
	uint8_t ret = 0;
	uint8_t block;

	/* Automatically generated from simplePQRS_9A86_UV_SJA1105PR.hex */
	uint32_t *p_configBurstList0[N_BURSTS_CONFIG0];
	const uint8_t  k_burstLength0[N_BURSTS_CONFIG0] = {64, 64, 64, 64, 53};
	static uint32_t configBurst0_0[64] = {0xAF00030EU, 0x05000000U, 0x00000014U, 0x72B990D1U, 0xF1820000U, 0x07DEDCC0U, 0xFFF80000U, 0xFFFFFFFFU, 0x0000FFFFU, 0xDD040040U, 0x07DEDCC0U, 0xFFF80000U, 0xFFFFFFFFU, 0x0000FFFFU, 0x4C200080U, 0x20122EB4U, 0xFFF80000U, 0xFFFFFFFFU, 0x0000FFFFU, 0x0AA000C0U, 0x02B9CB11U, 0xFFF80000U, 0xFFFFFFFFU, 0x0000FFFFU, 0x9AE3F35DU, 0x06000000U, 0x0000005AU, 0x4ED2C50FU, 0x02F70000U, 0x00EE7064U, 0x02F71000U, 0x04EE7064U, 0x02F72000U, 0x08EE7064U, 0x02F73000U, 0x0CEE7064U, 0x02F74000U, 0x10EE7064U, 0x02F75000U, 0x14EE7064U, 0x02F76000U, 0x18EE7064U, 0x02F77000U, 0x1CEE7064U, 0x02F70000U, 0x20EE7064U, 0x02F71000U, 0x24EE7064U, 0x02F72000U, 0x28EE7064U, 0x02F73000U, 0x2CEE7064U, 0x02F74000U, 0x30EE7064U, 0x02F75000U, 0x34EE7064U, 0x02F76000U, 0x38EE7064U, 0x02F77000U, 0x3CEE7064U, 0x02F70000U, 0x40EE700AU, 0x02F71000U, 0x44EE700AU};
	static uint32_t configBurst0_1[64] = {0x02F72000U, 0x48EE700AU, 0x02F73000U, 0x4CEE700AU, 0x02F74000U, 0x50EE700AU, 0x02F75000U, 0x54EE700AU, 0x02F76000U, 0x58EE700AU, 0x02F77000U, 0x5CEE700AU, 0x02F70000U, 0x60EE700AU, 0x02F71000U, 0x64EE700AU, 0x02F72000U, 0x68EE700AU, 0x02F73000U, 0x6CEE700AU, 0x02F74000U, 0x70EE700AU, 0x02F75000U, 0x74EE700AU, 0x02F76000U, 0x78EE700AU, 0x02F77000U, 0x7CEE700AU, 0x02F70000U, 0x80EE7064U, 0x02F71000U, 0x84EE7064U, 0x02F72000U, 0x88EE7064U, 0x02F73000U, 0x8CEE7064U, 0x02F74000U, 0x90EE7064U, 0x02F75000U, 0x94EE7064U, 0x02F76000U, 0x98EE7064U, 0x02F77000U, 0x9CEE7064U, 0x02F70000U, 0xA0EE7000U, 0x02F70000U, 0xA4EE7064U, 0x02F70000U, 0xA8EE7000U, 0x02F70000U, 0xACEE7000U, 0x02F70000U, 0xB0EE7064U, 0xC7CEB05DU, 0x07000000U, 0x00000022U, 0xDD3964CCU, 0x00000000U, 0x003FF000U, 0x00000000U, 0x003FF000U, 0x08000000U, 0x003FF000U};
	static uint32_t configBurst0_2[64] = {0x10000000U, 0x003FF000U, 0x18000000U, 0x003FF000U, 0x20000000U, 0x003FF000U, 0x28000000U, 0x003FF000U, 0x30000000U, 0x003FF000U, 0x38000000U, 0x003FF000U, 0x40000000U, 0x003FF000U, 0x48000000U, 0x003FF000U, 0x50000000U, 0x003FF000U, 0x58000000U, 0x003FF000U, 0x60000000U, 0x003FF000U, 0x68000000U, 0x003FF000U, 0x70000000U, 0x003FF000U, 0x78000000U, 0x003FF000U, 0x31AA049EU, 0x08000000U, 0x0000001AU, 0x6AF62353U, 0x10000000U, 0xF7BDF58DU, 0x10000000U, 0xEF7BF58DU, 0x10000000U, 0xDEF7F58DU, 0x10000000U, 0xBDEFF58DU, 0x10000000U, 0x7BDFF58DU, 0x00000000U, 0x00000000U, 0x00000000U, 0x00000000U, 0x00000000U, 0x00000000U, 0x00000000U, 0x00000000U, 0x00000000U, 0x00000000U, 0x00000000U, 0x00000000U, 0x00000000U, 0x00000000U, 0x00000000U, 0x00000000U, 0xC004A606U, 0x09000000U, 0x00000028U, 0x0DB43AC9U, 0x80000000U, 0x00000003U};
	static uint32_t configBurst0_3[64] = {0x00000000U, 0x08FC0104U, 0xBF404FE4U, 0xE017FB02U, 0x06FF40CFU, 0xFFF03BFCU, 0x80000000U, 0x00000003U, 0x00000000U, 0x08FC0104U, 0xBF404FE4U, 0xE017FB02U, 0x06FF40CFU, 0xFFF03BFCU, 0x00000000U, 0x00000002U, 0x00000000U, 0x08FC0106U, 0xBF404FE4U, 0xE017FB02U, 0x06FF40CFU, 0xFFF03BFCU, 0x00000000U, 0x00000002U, 0x00000000U, 0x08FC0106U, 0xBF404FE4U, 0xE017FB02U, 0x06FF40CFU, 0xFFF03BFCU, 0x80000000U, 0x00000003U, 0x00000000U, 0x08FC0104U, 0xBF404FE4U, 0xE017FB02U, 0x06FF40CFU, 0xFFF03BFCU, 0x01E716BFU, 0x0D000000U, 0x00000004U, 0x12D08C8FU, 0x02000000U, 0x00000000U, 0x04008010U, 0x00010020U, 0x34E31D78U, 0x0E000000U, 0x00000003U, 0xC8A7CEE6U, 0x321A4000U, 0x0C8320C8U, 0x0320C832U, 0x6FEF4A56U, 0x11000000U, 0x0000000BU, 0xEFA3E65AU, 0x01C00000U, 0x42040000U, 0xFFFFFC45U, 0xFFFFFFFFU, 0xFFDDB7FFU, 0xFFFF0000U, 0x0000FFFFU};
	static uint32_t configBurst0_4[53] = {0x0EFFFFFFU, 0x80C20000U, 0x00000301U, 0x450180C2U, 0x49F0DCE6U, 0x4E000000U, 0x00000001U, 0x3A5D5E24U, 0x6DA20000U, 0x8E761C92U, 0xC8000000U, 0x00000024U, 0x9317441AU, 0x00000000U, 0x00000000U, 0x00000000U, 0x00000000U, 0x00000004U, 0x00002100U, 0x00000020U, 0x00002001U, 0x00000010U, 0x0000000AU, 0x00000000U, 0x00000000U, 0x0000899CU, 0x00000000U, 0x00000000U, 0x00000000U, 0x00000000U, 0x0000000AU, 0x00000000U, 0x00000001U, 0x00000000U, 0x00000101U, 0x00000005U, 0x00000001U, 0x00000000U, 0x00000003U, 0x00000001U, 0x00001C22U, 0x0000000AU, 0x0000023FU, 0x00000100U, 0x00000000U, 0x00000000U, 0x00000000U, 0x00000010U, 0x00000010U, 0x9392C9B0U, 0x00000000U, 0x00000000U, 0x4352BF77U};

	uint32_t **pp_configBurstList[N_CONFIGS];
	const uint8_t *kp_burstLength[N_CONFIGS];
	const uint8_t k_nBursts[N_CONFIGS] = {N_BURSTS_CONFIG0};

	p_configBurstList0[0] = configBurst0_0;
	p_configBurstList0[1] = configBurst0_1;
	p_configBurstList0[2] = configBurst0_2;
	p_configBurstList0[3] = configBurst0_3;
	p_configBurstList0[4] = configBurst0_4;
	
	pp_configBurstList[0] = p_configBurstList0;

	kp_burstLength[0] = k_burstLength0;

	for (block = 0; block < k_nBursts[configIndex]; block++)
	{
		if (SJA1105P_gpf_spiWrite32(switchId, kp_burstLength[configIndex][block], CONFIG_BASE_ADDR + block, pp_configBurstList[configIndex][block]) != 0U)
		{
			ret = 1;
			break;  /* configuration was unsuccessful */
		}
	}

	return ret;
}
